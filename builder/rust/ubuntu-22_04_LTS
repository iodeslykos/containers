FROM ubuntu:22.04

LABEL maintainer="iodeslykos <42@iodeslykos.com>"
LABEL description="Ubuntu 22.04 LTS builder image for Rust applications."
LABEL repository="https://github.com/iodeslykos/containers/rust"

WORKDIR /tmp

# hadolint ignore=DL3008
RUN apt-get update -y \
  && apt-get install -y --no-install-recommends \
    build-essential ca-certificates curl \
  && rm -rf /var/lib/apt/lists/*

RUN curl https://sh.rustup.rs -sSf \
  | sh -s -- -y \
  && . $HOME/.cargo/env

ENV PATH="/root/.cargo/bin:${PATH}"

ENTRYPOINT ["/bin/bash"]
